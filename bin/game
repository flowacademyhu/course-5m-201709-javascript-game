#!/usr/bin/env nodejs
'use strict';

const read = require('readline-sync');
const position = require('../data/game-area/starter-position');
const map = require('../data/game-area/index');
const movement = require('../lib/actions/movement');

let gameIsRunning = true;

function gameWin (position) {
  if (position[0] === 5 && position[1] === 4) {
    console.log('Nyeréé! Ügyes vagy!');
    gameIsRunning = false;
  }
}

// init map
let matrix = map();

while (gameIsRunning) {
  const input = read.question('>>');
  const splittedText = input.split(' ');
  console.log('--------------------------------------');

  switch (splittedText[0]) {
    case 'kilépés':
      gameIsRunning = false;
      break;
    case 'menj':
      movement(splittedText[1], matrix);
      break;
    default:
      console.log('Tanulj meg magyarul!');
  }
  gameWin(position);
}
