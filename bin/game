#!/usr/bin/env nodejs
'use strict';

const read = require('readline-sync');
const position = require('../data/game-area/starter-position');
const map = require('../data/game-area/index');
const movement = require('../lib/actions/movement');
const gameWin = require('../lib/game-win');

let gameIsRunning = true;

// init map
let matrix = map();
let quit = true;

while (gameIsRunning && quit) {
  const input = read.question('>>');
  const splittedText = input.split(' ');
  console.log('--------------------------------------');

  switch (splittedText[0]) {
    case 'kilépés':
      quit = false;
      break;
    case 'menj':
      movement(splittedText[1], matrix);
      break;
    default:
      console.log('Tanulj meg magyarul!');
  }
  gameIsRunning = gameWin(position);
}
